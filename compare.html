
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Comparaison de compatibilité</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f0f8ff; padding: 20px; }
        h1 { text-align: center; color: #333; }
        .question { background: #fff; border-radius: 8px; padding: 10px; margin-bottom: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        .compatible { color: green; font-weight: bold; }
        .non-compatible { color: red; font-weight: bold; }
        .summary { margin-top: 30px; font-size: 1.2em; text-align: center; }
    </style>
</head>
<body>
    <h1>🔍 Résultat de compatibilité</h1>
    <div id="comparison"></div>
    <div class="summary" id="summary"></div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const aResponses = JSON.parse(localStorage.getItem("reponses_personne_a") || "[]");
            const bResponses = JSON.parse(localStorage.getItem("reponses_personne_b") || "[]");

            const container = document.getElementById("comparison");
            const summary = document.getElementById("summary");
            container.innerHTML = "";

            if (aResponses.length === 0 || bResponses.length === 0) {
                container.innerHTML = "<p>⚠️ Les réponses de Personne A ou B sont manquantes. Veuillez remplir les questionnaires.</p>";
                return;
            }

            let score = 0;
            for (let i = 0; i < aResponses.length; i++) {
                const a = aResponses[i];
                const b = bResponses[i];
                const match = a === b || a === "À discuter" || b === "À discuter";
                if (match) score++;

                const div = document.createElement("div");
                div.className = "question";
                div.innerHTML = `
                    <strong>Question ${i + 1}</strong><br>
                    👤 Personne A : ${a}<br>
                    👤 Personne B : ${b}<br>
                    ${match ? "<span class='compatible'>✔ Compatible</span>" : "<span class='non-compatible'>✘ Non compatible</span>"}
                `;
                container.appendChild(div);
            }

            summary.innerHTML = `💑 Score de compatibilité : <strong>${score} / ${aResponses.length}</strong><br>
            ${score > 40 ? "🌟 Très compatible !" : score > 25 ? "😊 Moyennement compatible" : "😕 Peu compatible"}`;
        });
    </script>
</body>
</html>
